
//Creating Database
var geo = Ti.Database.open('location');
var wowData = Ti.App.Properties.getString('geoData');
geo.execute('CREATE TABLE IF NOT EXISTS location (id INTEGER PRIMARY KEY, name TEXT, countryAB TEXT, latitude INTEGER, longitude INTEGER)');

//Inserting data from save func start
function insertData() {
	var data = [];

	var  secInfo = geo.execute('SELECT * FROM location');

	while (secInfo.isValidRow()) {
		var name = secInfo.fieldByName('name');
		var st = secInfo.fieldByName('st');
		// var county = rowInfo.fieldByName('county');
		// var state = rowInfo.fieldByName('state');
		var countryAB = rowInfo.fieldByName('countryAB');
		// var country = rowInfo.fieldByName('country');
		var latitude = secInfo.fieldByName('latitude');
		var longitude = secInfo.fieldByName('longitude');
		// var dist = rowInfo.fieldByName('dist');
		var id = secInfo.fieldByName('id');
		
		dataInfo.push({
			name : name,
			st : st,
			// county : county,
			// state : state,
			// countryAB : countryAB,
			// country : country,
			latitude : latitude,
			longitude : longitude,
			dist : dist
		});

		Ti.API.info('=========================');

		secInfo.next();
	};
	return data;
};
var geoData = insertData();
exports.geoData = geoData;
//Inserting data from sav func end

//saving data from app.js start
var save = function(name, countryAB, latitude, longitude) {
	input = {};
	input.name = name;
	input.countryAB = countryAB;
	input.latitude = latitude;
	input.longitude = longitude;
	geo.execute('INSERT INTO location (name, countryAB, latitude, longitude) VALUES (?, ?, ?, ?)', name, countryAB, latitude, longitude);
	seclist.setItems(geoData);
};
exports.save = save;
//saving data from app.js end


var id = a.rowData.id;

geo.execute('SELECT * FROM location WHERE ID=?', id);
input = {};


//delete data start
function delFunc() {
	geo.execute('DELETE FROM location WHERE id=?', id); 
	seclist.setItems(geoData);
};
exports.delFunc = delFunc;
//delete data end